{#
  Copyright (C) 2014  Matthieu Caneill <matthieu.caneill@gmail.com>
  License: GNU Affero General Public License, version 3 or above.
#}

{% extends "base.html" %}

{% block title %}Stats{% endblock %}

{% block breadcrumbs %}stats{% endblock %}

{% block content %}

<h2>{{ self.title() }}</h2>

<h3>Size</h3>

<table>
  <tr>
    <th></th>
    {% for suite in stats["suites"] %}
      <th><a href="{{ url_for('stats_html', suite=suite[7:]) }}">
	  {{ suite[7:] }}</a></th>
    {% endfor %}
  </tr>
  <tr>
    <th>Source files</th>
    {% for suite in stats["suites"] %}
      <td>{{ stats["results"][suite + ".source_files"] }}</td>
    {% endfor %}
  </tr>
  <tr>
    <th>Source packages</th>
    {% for suite in stats["suites"] %}
      <td>{{ stats["results"][suite + ".source_packages"] }}</td>
    {% endfor %}
  </tr>
  <tr>
    <th>Disk usage (kB)</th>
    {% for suite in stats["suites"] %}
      <td>{{ stats["results"][suite + ".disk_usage"] }}</td>
    {% endfor %}
  </tr>
  <tr>
    <th>Ctags</th>
    {% for suite in stats["suites"] %}
      <td>{{ stats["results"][suite + ".ctags"] }}</td>
    {% endfor %}
  </tr>
  <tr>
    <th>SLOC</th>
    {% for suite in stats["suites"] %}
      <td>{{ stats["results"][suite + ".sloccount"] }}</td>
    {% endfor %}
  </tr>
</table>

<h3>Lines of code per language</h3>

<table>
  <tr>
    <th></th>
    {% for suite in stats["suites"] %}
      <th><a href="{{ url_for('stats_html', suite=suite[7:]) }}">
	  {{ suite[7:] }}</a></th>
    {% endfor %}
  </tr>
  <tr>
    <th>Total</th>
    {% for suite in stats["suites"] %}
      <td>{{ stats["results"][suite + ".sloccount"] }}</td>
    {% endfor %}
  </tr>
  {% for lang in stats["languages"]|sort %}
    <tr>
      <th>{{ lang }}</th>
      {% for suite in stats["suites"] %}
        <td>{{ stats["results"][suite + ".sloccount." + lang] }}</td>
      {% endfor %}
    </tr>
  {% endfor %}
</table>

{% endblock %}
