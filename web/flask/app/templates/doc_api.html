{#
  Copyright (C) 2013  Matthieu Caneill <matthieu.caneill@gmail.com>
  License: GNU Affero General Public License, version 3 or above.
#}

{% extends "base.html" %}

{% block head %}
{{ super() }}
<style>
  .url{display: block; margin-left: 50px;}
</style>
{% endblock %}

{% block title %}API documentation{% endblock %}
{% block content %}
{% set url_prefix = "http://" + config.DOMAIN %}

<h2>{{ self.title() }}</h2>

<h3>Search</h3>

By accessing the following URL:
<span class="url">{{ url_prefix }}/api/search/<strong>hello</strong></span>

You will get a JSON object similar to this:
<pre>
{
  "query": "hello", 
  "results": {
    "other_results": [
      {
        "name": "gpe-othello"
      }, 
      {
        "name": "hello"
      }, 
      {
        "name": "hello-debhelper"
      }, 
      {
        "name": "ruby-mixlib-shellout"
      }
    ], 
    "exact_matching": {
      "name": "hello"
    }
  }
}
</pre>

<h3>Package list</h3>

<h4>All packages</h4>

<span class="url">{{ url_prefix }}/api/list/</span>

<h4>By prefix</h4>

<span class="url">{{ url_prefix }}/api/prefix/<strong>libz</strong></span>

<h3>Navigation</h3>

<span class="url">{{ url_prefix
  }}/api/src/<strong>packagename</strong></span>
<span class="url">{{ url_prefix
  }}/api/src/<strong>packagename</strong>/<strong>version</strong></span>
<span class="url">{{ url_prefix
  }}/api/src/<strong>packagename</strong>/<strong>version</strong>/<strong>path/to/file_or_folder</strong></span>


{% endblock %}
