{% extends "source_base.html" %}

{% block head %}
  {{ super() }}
  <script src="/static/js/jquery.js"></script>
  <script src="/static/js/getsource.js"></script>
  <link rel="stylesheet" href="/static/highlight.js/googlecode.min.css">
  <script src="/static/highlight.js/highlight.min.js"></script>
  <script type="text/javascript">
      function loadFromBody(){ // to remove
          loadSource("{ sources_path_server }", $('#sourcecode'));
      }
    </script>
  <style>
    td{vertical-align: top; margin: 0px; padding: 0px;}
    #sourceslinenumbers{text-align: right; border-right: 1px solid black;}
    #sourceslinenumbers a{text-decoration: none; color: black}
    #sourcecode span{margin: 0px; padding: 0px;}
    #sourcecode .highlight{background-color: #dddddd;}
  </style>
{% endblock %}

{% block source_content %}

<table border="0">
  <tr>
    <td><pre><code id="sourceslinenumbers">{%
      for i in range(1, nlines)
          %}<a name="L{{ i }}" href="#L{{ i }}">{{ i }}</a><br />{%
      endfor %}</code></pre></td>
    <td>
      <pre><code id="sourcecode">{%
          for (line, highlight) in code %}{%
            if highlight %}<span class="highlight">{{ line }}</span>{%
            else %}{{ line }}{%
            endif %}{%
          endfor %}</code></pre>
    </td>
  </tr>
</table>

<script type="text/javascript">hljs.highlightBlock($('#sourcecode')[0])</script>

{% endblock %}
